var timeElement = document.getElementById('currtime');
var dateElement = document.getElementById('currdate');

var now = moment();

function updateDatetime() {
    var now = moment();

    var formattedTime = now.format('HH:mm:ss');
    var formattedDate = now.format('DD.MM.YYYY');
    timeElement.innerHTML = formattedTime;
    dateElement.innerHTML = formattedDate;
    if (formattedTime == '00:00:00') {
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    }
}

// Обновляем время каждую секунду
setInterval(updateDatetime, 1000);

var month = moment().format("MMM");


// Получаем элементы select
var selectElement = document.getElementById("city");
var textElement = document.getElementById("selectedCity");

textElement.textContent = "Кемерово";
if (selectElement.value == "Кемерово") {
    getKemerovoDatas();
}


// Обработчик события изменения значения select
selectElement.addEventListener("change", function () {
    var selectedOption = selectElement.value;

    if (selectElement.value === "Новокузнецк") {
        var now = moment();
        getNovokuznDatas();
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    } else if (selectElement.value === "Кемерово") {
        var now = moment();
        getKemerovoDatas();
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    } else if (selectElement.value === "Прокопьевск") {
        var now = moment();
        getProkopevsk();
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    } else if (selectElement.value === "Ленинск-Кузнецкий") {
        var now = moment();
        getLeninskKuznetsk();
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    } else if (selectElement.value === "Юрга") {
        var now = moment();
        getYorga();
        var formattedD = now.format('DD.MM');
        prayerTimes = updateDatePrayer(formattedD);
        nextPrayerTime = getNextPrayerTime(prayerTimes);
    }
    // Обновляем текст на странице
    textElement.textContent = selectedOption;

});


var datas;

function getKemerovoDatas() {
    switch (month) {
        case "Jan":
            datas = {
                "01.01": ["08:07", "09:37", "13:30", "15:23", "17:03", "18:33"],
                "02.01": ["08:07", "09:37", "13:30", "15:24", "17:04", "18:34"],
                "03.01": ["08:06", "09:36", "13:30", "15:25", "17:05", "18:35"],
                "04.01": ["08:06", "09:36", "13:30", "15:26", "17:06", "18:36"],
                "05.01": ["08:06", "09:35", "13:30", "15:27", "17:07", "18:37"],
                "06.01": ["08:05", "09:35", "13:30", "15:28", "17:09", "18:39"],
                "07.01": ["08:05", "09:34", "13:30", "15:30", "17:10", "18:40"],
                "08.01": ["08:04", "09:34", "13:30", "15:32", "17:11", "18:41"],
                "09.01": ["08:04", "09:33", "13:30", "15:34", "17:12", "18:42"],
                "10.01": ["08:03", "09:33", "13:30", "15:36", "17:14", "18:44"],
                "11.01": ["08:02", "09:32", "13:30", "15:38", "17:16", "18:46"],
                "12.01": ["08:02", "09:32", "13:30", "15:40", "17:18", "18:48"],
                "13.01": ["08:01", "09:31", "13:30", "15:42", "17:20", "18:50"],
                "14.01": ["08:01", "09:31", "13:30", "15:44", "17:22", "18:52"],
                "15.01": ["08:00", "09:30", "13:30", "15:46", "17:24", "18:54"],
                "16.01": ["07:59", "09:29", "13:30", "15:48", "17:26", "18:56"],
                "17.01": ["07:58", "09:28", "13:30", "15:50", "17:28", "18:58"],
                "18.01": ["07:56", "09:26", "13:30", "15:52", "17:30", "19:00"],
                "19.01": ["07:55", "09:25", "13:30", "15:53", "17:32", "19:02"],
                "20.01": ["07:54", "09:24", "13:30", "15:55", "17:34", "19:04"],
                "21.01": ["07:53", "09:23", "13:30", "15:57", "17:36", "19:06"],
                "22.01": ["07:51", "09:21", "13:30", "15:59", "17:38", "19:08"],
                "23.01": ["07:49", "09:19", "13:30", "16:01", "17:40", "19:10"],
                "24.01": ["07:48", "09:18", "13:30", "16:03", "17:42", "19:12"],
                "25.01": ["07:46", "09:16", "13:31", "16:05", "17:44", "19:14"],
                "26.01": ["07:45", "09:15", "13:31", "16:07", "17:46", "19:16"],
                "27.01": ["07:43", "09:13", "13:31", "16:09", "17:48", "19:18"],
                "28.01": ["07:42", "09:12", "13:31", "16:10", "17:50", "19:20"],
                "29.01": ["07:40", "09:10", "13:31", "16:11", "17:52", "19:22"],
                "30.01": ["07:38", "09:08", "13:32", "16:13", "17:54", "19:24"],
                "31.01": ["07:36", "09:06", "13:32", "16:15", "17:56", "19:26"]
            };
            break;

        case "Feb":
            datas = {
                  "01.02": ["07:33", "09:03", "13:32", "16:16", "17:58", "19:28"],
                  "02.02": ["07:31", "09:01", "13:32", "16:17", "18:00", "19:30"],
                  "03.02": ["07:29", "08:59", "13:32", "16:19", "18:02", "19:32"],
                  "04.02": ["07:27", "08:57", "13:32", "16:21", "18:05", "19:35"],
                  "05.02": ["07:25", "08:55", "13:32", "16:23", "18:07", "19:37"],
                  "06.02": ["07:23", "08:53", "13:33", "16:25", "18:09", "19:39"],
                  "07.02": ["07:21", "08:51", "13:33", "16:27", "18:11", "19:41"],
                  "08.02": ["07:19", "08:49", "13:33", "16:29", "18:13", "19:43"],
                  "09.02": ["07:17", "08:47", "13:33", "16:31", "18:16", "19:46"],
                  "10.02": ["07:15", "08:45", "13:33", "16:33", "18:18", "19:48"],
                  "11.02": ["07:13", "08:43", "13:33", "16:35", "18:20", "19:50"],
                  "12.02": ["07:10", "08:40", "13:33", "16:37", "18:22", "19:52"],
                  "13.02": ["07:08", "08:38", "13:33", "16:39", "18:24", "19:54"],
                  "14.02": ["07:06", "08:36", "13:33", "16:41", "18:27", "19:57"],
                  "15.02": ["07:04", "08:34", "13:33", "16:43", "18:29", "19:59"],
                  "16.02": ["07:02", "08:32", "13:33", "16:45", "18:31", "20:01"],
                  "17.02": ["06:59", "08:29", "13:33", "16:47", "18:33", "20:03"],
                  "18.02": ["06:57", "08:27", "13:33", "16:49", "18:35", "20:05"],
                  "19.02": ["06:55", "08:25", "13:33", "16:51", "18:37", "20:07"],
                  "20.02": ["06:53", "08:23", "13:32", "16:53", "18:39", "20:09"],
                  "21.02": ["06:50", "08:20", "13:32", "16:55", "18:41", "20:11"],
                  "22.02": ["06:47", "08:17", "13:32", "16:57", "18:43", "20:13"],
                  "23.02": ["06:45", "08:15", "13:32", "16:59", "18:45", "20:15"],
                  "24.02": ["06:43", "08:13", "13:32", "17:00", "18:47", "20:17"],
                  "25.02": ["06:41", "08:11", "13:32", "17:02", "18:49", "20:19"],
                  "26.02": ["06:38", "08:08", "13:32", "17:04", "18:51", "20:21"],
                  "27.02": ["06:36", "08:06", "13:31", "17:06", "18:53", "20:23"],
                  "28.02": ["06:34", "08:04", "13:31", "17:07", "18:55", "20:25"]
                };
            break;

        case "Mar":
            datas = {
                  "01.03": ["06:32", "08:02", "13:30", "17:07", "18:57", "20:27"],
                  "02.03": ["06:30", "08:00", "13:30", "17:08", "18:58", "20:28"],
                  "03.03": ["06:28", "07:58", "13:30", "17:09", "19:00", "20:30"],
                  "04.03": ["06:25", "07:55", "13:30", "17:10", "19:02", "20:32"],
                  "05.03": ["06:23", "07:53", "13:30", "17:10", "19:04", "20:34"],
                  "06.03": ["06:21", "07:51", "13:30", "17:11", "19:06", "20:36"],
                  "07.03": ["06:18", "07:48", "13:30", "17:11", "19:08", "20:38"],
                  "08.03": ["06:15", "07:45", "13:30", "17:12", "19:10", "20:40"],
                  "09.03": ["06:13", "07:43", "13:30", "17:12", "19:12", "20:42"],
                  "10.03": ["06:11", "07:41", "13:30", "17:13", "19:14", "20:44"],
                  "11.03": ["06:08", "07:38", "13:30", "17:14", "19:16", "20:46"],
                  "12.03": ["06:06", "07:36", "13:30", "17:15", "19:18", "20:48"],
                  "13.03": ["06:03", "07:33", "13:30", "17:16", "19:20", "20:50"],
                  "14.03": ["06:01", "07:31", "13:30", "17:17", "19:22", "20:52"],
                  "15.03": ["05:58", "07:28", "13:30", "17:19", "19:24", "20:54"],
                  "16.03": ["05:56", "07:26", "13:30", "17:20", "19:26", "20:56"],
                  "17.03": ["05:53", "07:23", "13:30", "17:22", "19:28", "20:58"],
                  "18.03": ["05:51", "07:21", "13:30", "17:23", "19:30", "21:00"],
                  "19.03": ["05:48", "07:18", "13:30", "17:25", "19:32", "21:02"],
                  "20.03": ["05:46", "07:16", "13:30", "17:27", "19:34", "21:04"],
                  "21.03": ["05:43", "07:13", "13:30", "17:30", "19:36", "21:06"],
                  "22.03": ["05:40", "07:10", "13:30", "17:32", "19:38", "21:08"],
                  "23.03": ["05:38", "07:08", "13:30", "17:34", "19:40", "21:10"],
                  "24.03": ["05:35", "07:05", "13:30", "17:36", "19:41", "21:11"],
                  "25.03": ["05:33", "07:03", "13:30", "17:38", "19:43", "21:13"],
                  "26.03": ["05:30", "06:00", "13:30", "17:40", "19:45", "21:15"],
                  "27.03": ["05:27", "06:57", "13:30", "17:42", "19:47", "21:17"],
                  "28.03": ["05:25", "06:55", "13:30", "17:44", "19:49", "21:19"],
                  "29.03": ["05:22", "06:52", "13:30", "17:46", "19:51", "21:21"],
                  "30.03": ["05:19", "06:49", "13:30", "17:48", "19:53", "21:23"],
                  "31.03": ["05:16", "06:46", "13:30", "17:50", "19:55", "21:25"]
                };
            break;


        case "Apr":
            datas = {
                "01.04": ["05:14", "06:44", "13:30", "17:52", "19:58", "21:28"],
                "02.04": ["05:12", "06:42", "13:30", "17:53", "20:00", "21:30"],
                "03.04": ["05:09", "06:39", "13:30", "17:54", "20:02", "21:32"],
                "04.04": ["05:06", "06:36", "13:30", "17:55", "20:04", "21:34"],
                "05.04": ["05:03", "06:33", "13:30", "17:56", "20:06", "21:36"],
                "06.04": ["05:01", "06:31", "13:30", "17:57", "20:08", "21:38"],
                "07.04": ["04:59", "06:29", "13:30", "17:58", "20:09", "21:39"],
                "08.04": ["04:56", "06:26", "13:30", "17:59", "20:11", "21:41"],
                "09.04": ["04:53", "06:23", "13:30", "18:00", "20:13", "21:43"],
                "10.04": ["04:50", "06:20", "13:30", "18:01", "20:15", "21:45"],
                "11.04": ["04:48", "06:18", "13:30", "18:02", "20:17", "21:47"],
                "12.04": ["04:46", "06:16", "13:30", "18:03", "20:19", "21:49"],
                "13.04": ["04:44", "06:14", "13:30", "18:05", "20:21", "21:51"],
                "14.04": ["04:41", "06:11", "13:30", "18:07", "20:23", "21:53"],
                "15.04": ["04:38", "06:08", "13:30", "18:09", "20:25", "21:55"],
                "16.04": ["04:36", "06:06", "13:30", "18:11", "20:27", "21:57"],
                "17.04": ["04:34", "06:04", "13:30", "18:13", "20:29", "21:59"],
                "18.04": ["04:31", "06:01", "13:30", "18:15", "20:31", "22:01"],
                "19.04": ["04:28", "05:58", "13:30", "18:17", "20:33", "22:03"],
                "20.04": ["04:25", "05:55", "13:30", "18:19", "20:35", "22:05"],
                "21.04": ["04:23", "05:53", "13:30", "18:21", "20:37", "22:07"],
                "22.04": ["04:21", "05:51", "13:30", "18:23", "20:39", "22:09"],
                "23.04": ["04:19", "05:49", "13:30", "18:25", "20:41", "22:11"],
                "24.04": ["04:17", "05:47", "13:30", "18:27", "20:43", "22:13"],
                "25.04": ["04:14", "05:44", "13:30", "18:29", "20:45", "22:15"],
                "26.04": ["04:12", "05:42", "13:30", "18:31", "20:47", "22:17"],
                "27.04": ["04:10", "05:40", "13:30", "18:33", "20:49", "22:19"],
                "28.04": ["04:08", "05:38", "13:30", "18:35", "20:51", "22:21"],
                "29.04": ["04:06", "05:36", "13:30", "18:37", "20:53", "22:23"],
                "30.04": ["04:04", "05:34", "13:30", "18:39", "20:55", "22:25"]
            };
            break;
        case "May":
            datas = {
                "01.05": ["04:03", "05:33", "13:30", "18:41", "20:57", "22:27"],
                "02.05": ["04:01", "05:31", "13:30", "18:42", "20:59", "22:29"],
                "03.05": ["03:59", "05:29", "13:30", "18:43", "21:00", "22:30"],
                "04.05": ["03:57", "05:27", "13:30", "18:44", "21:02", "22:32"],
                "05.05": ["03:55", "05:25", "13:30", "18:46", "21:04", "22:34"],
                "06.05": ["03:53", "05:23", "13:30", "18:48", "21:06", "22:36"],
                "07.05": ["03:51", "05:21", "13:30", "18:50", "21:07", "22:37"],
                "08.05": ["03:49", "05:19", "13:30", "18:51", "21:09", "22:39"],
                "09.05": ["03:47", "05:17", "13:30", "18:52", "21:11", "22:41"],
                "10.05": ["03:45", "05:15", "13:30", "18:53", "21:13", "22:43"],
                "11.05": ["03:44", "05:14", "13:30", "18:54", "21:14", "22:44"],
                "12.05": ["03:42", "05:12", "13:30", "18:55", "21:16", "22:46"],
                "13.05": ["03:40", "05:10", "13:30", "18:56", "21:18", "22:48"],
                "14.05": ["03:38", "05:08", "13:30", "18:57", "21:20", "22:50"],
                "15.05": ["03:36", "05:06", "13:30", "18:58", "21:21", "22:51"],
                "16.05": ["03:34", "05:04", "13:30", "18:59", "21:23", "22:53"],
                "17.05": ["03:32", "05:02", "13:30", "19:00", "21:25", "22:55"],
                "18.05": ["03:30", "05:00", "13:30", "19:02", "21:27", "22:57"],
                "19.05": ["03:29", "04:59", "13:30", "19:04", "21:28", "22:58"],
                "20.05": ["03:27", "04:57", "13:30", "19:06", "23:52", "23:53"],
                "21.05": ["03:25", "04:55", "13:30", "19:08", "21:32", "23:02"],
                "22.05": ["03:23", "04:53", "13:30", "19:09", "21:34", "23:04"],
                "23.05": ["03:21", "04:51", "13:30", "19:11", "21:35", "23:05"],
                "24.05": ["03:20", "04:50", "13:30", "19:12", "21:37", "23:07"],
                "25.05": ["03:18", "04:48", "13:30", "19:14", "21:39", "23:09"],
                "26.05": ["03:17", "04:47", "13:30", "19:16", "21:41", "23:11"],
                "27.05": ["03:15", "04:45", "13:30", "19:17", "21:42", "23:12"],
                "28.05": ["03:13", "04:43", "13:30", "19:18", "21:44", "23:14"],
                "29.05": ["00:02", "04:41", "13:30", "19:20", "21:46", "23:16"],
                "30.05": ["03:09", "04:39", "13:30", "19:21", "21:48", "23:18"],
                "31.05": ["03:08", "04:38", "13:30", "19:23", "21:49", "23:19"]
            };
            break;
        case "Jun":
            datas = {
                "01.06": ["03:09", "04:39", "13:30", "19:23", "21:50", "23:20"],
                "02.06": ["03:08", "04:38", "13:30", "19:23", "21:51", "23:21"],
                "03.06": ["03:07", "04:37", "13:30", "19:24", "21:52", "23:22"],
                "04.06": ["03:06", "04:36", "13:30", "19:24", "21:53", "23:23"],
                "05.06": ["03:05", "04:35", "13:30", "19:24", "21:54", "23:24"],
                "06.06": ["03:04", "04:34", "13:30", "19:25", "21:55", "23:25"],
                "07.06": ["03:03", "04:33", "13:30", "19:25", "21:56", "23:26"],
                "08.06": ["03:02", "04:32", "13:30", "19:25", "21:57", "23:27"],
                "09.06": ["03:02", "04:32", "13:30", "19:26", "21:58", "23:28"],
                "10.06": ["03:01", "04:31", "13:30", "19:26", "21:59", "23:29"],
                "11.06": ["03:01", "04:31", "13:30", "19:27", "22:00", "23:30"],
                "12.06": ["03:00", "04:30", "13:30", "19:27", "22:01", "23:31"],
                "13.06": ["03:00", "04:30", "13:30", "19:28", "22:02", "23:32"],
                "14.06": ["03:00", "04:30", "13:30", "19:28", "22:02", "23:32"],
                "15.06": ["03:00", "04:30", "13:30", "19:29", "22:03", "23:33"],
                "16.06": ["02:59", "04:29", "13:30", "19:29", "22:04", "23:34"],
                "17.06": ["02:59", "04:29", "13:30", "19:29", "22:04", "23:34"],
                "18.06": ["02:59", "04:29", "13:30", "19:30", "22:05", "23:35"],
                "19.06": ["02:58", "04:28", "13:30", "19:30", "22:05", "23:35"],
                "20.06": ["02:58", "04:28", "13:30", "19:31", "22:06", "23:36"],
                "21.06": ["02:58", "04:28", "13:30", "19:31", "22:06", "23:36"],
                "22.06": ["02:58", "04:28", "13:30", "19:31", "22:07", "23:37"],
                "23.06": ["02:59", "04:29", "13:30", "19:32", "22:07", "23:37"],
                "24.06": ["02:59", "04:29", "13:30", "19:32", "22:07", "23:37"],
                "25.06": ["03:00", "04:30", "13:30", "19:32", "22:07", "23:37"],
                "26.06": ["03:00", "04:30", "13:30", "19:32", "22:07", "23:37"],
                "27.06": ["03:00", "04:30", "13:30", "19:32", "22:07", "23:37"],
                "28.06": ["03:01", "04:31", "13:30", "19:31", "22:07", "23:37"],
                "29.06": ["03:01", "04:31", "13:30", "19:31", "22:07", "23:37"],
                "30.06": ["03:01", "04:31", "13:30", "19:31", "22:06", "23:36"]
            };
            break;

        case "Jul":
            datas = {
                "01.07": ["03:03", "04:33", "13:30", "19:31", "22:06", "23:36"],
                "02.07": ["03:04", "04:34", "13:30", "19:30", "22:05", "23:35"],
                "03.07": ["03:05", "04:35", "13:30", "19:29", "22:04", "23:34"],
                "04.07": ["03:06", "04:36", "13:30", "19:28", "22:03", "23:33"],
                "05.07": ["03:07", "04:37", "13:30", "19:28", "22:02", "23:32"],
                "06.07": ["03:08", "04:38", "13:30", "19:27", "22:01", "23:31"],
                "07.07": ["03:09", "04:39", "13:30", "19:26", "22:00", "23:30"],
                "08.07": ["03:10", "04:40", "13:30", "19:25", "21:59", "23:29"],
                "09.07": ["03:11", "04:41", "13:30", "19:24", "21:58", "23:28"],
                "10.07": ["03:12", "04:42", "13:30", "19:23", "21:57", "23:27"],
                "11.07": ["03:13", "04:43", "13:30", "19:22", "21:56", "23:26"],
                "12.07": ["03:14", "04:44", "13:30", "19:21", "21:54", "23:24"],
                "13.07": ["03:15", "04:45", "13:30", "19:20", "21:53", "23:23"],
                "14.07": ["03:16", "04:46", "13:30", "19:19", "21:51", "23:21"],
                "15.07": ["03:17", "04:47", "13:30", "19:18", "21:49", "23:19"],
                "16.07": ["03:18", "04:48", "13:30", "19:18", "21:48", "23:18"],
                "17.07": ["03:19", "04:49", "13:30", "19:17", "21:46", "23:16"],
                "18.07": ["03:20", "04:50", "13:30", "19:16", "21:45", "23:15"],
                "19.07": ["03:22", "04:52", "13:30", "19:15", "21:44", "23:14"],
                "20.07": ["03:24", "04:54", "13:30", "19:14", "21:43", "23:13"],
                "21.07": ["03:25", "04:55", "13:30", "19:13", "21:42", "23:12"],
                "22.07": ["03:27", "04:57", "13:30", "19:13", "21:41", "23:11"],
                "23.07": ["03:29", "04:59", "13:30", "19:12", "21:40", "23:10"],
                "24.07": ["03:31", "05:01", "13:30", "19:11", "21:39", "23:09"],
                "25.07": ["03:32", "05:02", "13:30", "19:10", "21:38", "23:08"],
                "26.07": ["03:34", "05:04", "13:30", "19:09", "21:37", "23:07"],
                "27.07": ["03:35", "05:05", "13:30", "19:08", "21:36", "23:06"],
                "28.07": ["03:37", "05:07", "13:30", "19:07", "21:34", "23:04"],
                "29.07": ["03:39", "05:09", "13:30", "19:06", "21:33", "23:03"],
                "30.07": ["03:41", "05:11", "13:30", "19:05", "21:31", "23:01"],
                "31.07": ["03:43", "05:13", "13:30", "19:05", "21:29", "22:59"]
            };
            break;
        case "Aug":
            datas = {
                "01.08": ["03:46", "05:16", "13:30", "19:04", "21:27", "22:57"],
                "02.08": ["03:48", "05:18", "13:30", "19:03", "21:25", "22:55"],
                "03.08": ["03:50", "05:20", "13:30", "19:02", "21:23", "22:53"],
                "04.08": ["03:52", "05:22", "13:30", "19:01", "21:20", "22:50"],
                "05.08": ["03:54", "05:24", "13:30", "19:00", "21:18", "22:48"],
                "06.08": ["03:56", "05:26", "13:30", "18:59", "21:16", "22:46"],
                "07.08": ["03:58", "05:28", "13:30", "18:57", "21:13", "22:43"],
                "08.08": ["04:00", "05:30", "13:30", "18:56", "21:11", "22:41"],
                "09.08": ["04:02", "05:32", "13:30", "18:55", "21:08", "22:38"],
                "10.08": ["04:04", "05:34", "13:30", "18:53", "21:06", "22:36"],
                "11.08": ["04:06", "05:36", "13:30", "18:51", "21:04", "22:34"],
                "12.08": ["04:08", "05:38", "13:30", "18:49", "21:02", "22:32"],
                "13.08": ["04:10", "05:40", "13:30", "18:46", "21:00", "22:30"],
                "14.08": ["04:12", "05:42", "13:30", "18:44", "20:58", "22:28"],
                "15.08": ["04:14", "05:44", "13:30", "18:42", "20:55", "22:25"],
                "16.08": ["04:15", "05:45", "13:30", "18:40", "20:52", "22:22"],
                "17.08": ["04:17", "05:47", "13:30", "18:37", "20:50", "22:20"],
                "18.08": ["04:19", "05:49", "13:30", "18:34", "20:48", "22:18"],
                "19.08": ["04:21", "05:51", "13:30", "18:32", "20:45", "22:15"],
                "20.08": ["04:23", "05:53", "13:30", "18:30", "20:42", "22:12"],
                "21.08": ["04:25", "05:55", "13:30", "18:28", "20:40", "22:10"],
                "22.08": ["04:27", "05:57", "13:30", "18:25", "20:38", "22:08"],
                "23.08": ["04:29", "05:59", "13:30", "18:22", "20:36", "22:06"],
                "24.08": ["04:31", "06:01", "13:30", "18:20", "20:34", "22:04"],
                "25.08": ["04:33", "06:03", "13:30", "18:18", "20:32", "22:02"],
                "26.08": ["04:34", "06:04", "13:30", "18:16", "20:30", "22:00"],
                "27.08": ["04:36", "06:06", "13:30", "18:13", "20:28", "21:58"],
                "28.08": ["04:38", "06:08", "13:30", "18:10", "20:26", "21:56"],
                "29.08": ["04:40", "06:10", "13:30", "18:08", "20:24", "21:54"],
                "30.08": ["04:42", "06:12", "13:30", "18:06", "20:22", "21:52"],
                "31.08": ["04:44", "06:14", "13:30", "18:04", "20:20", "21:50"]
            }
            break;
        case "Sep":
            datas = {
                "01.09": ["04:46", "06:16", "13:30", "18:02", "20:17", "21:47"],
                "02.09": ["04:48", "06:18", "13:30", "18:00", "20:15", "21:45"],
                "03.09": ["04:50", "06:20", "13:30", "17:57", "20:13", "21:43"],
                "04.09": ["04:51", "06:21", "13:30", "17:55", "20:10", "21:40"],
                "05.09": ["04:53", "06:23", "13:30", "17:53", "20:07", "21:37"],
                "06.09": ["04:54", "06:24", "13:30", "17:50", "20:04", "21:34"],
                "07.09": ["04:55", "06:25", "13:30", "17:48", "20:02", "21:32"],
                "08.09": ["04:57", "06:27", "13:30", "17:46", "20:00", "21:30"],
                "09.09": ["04:59", "06:29", "13:30", "17:44", "19:57", "21:27"],
                "10.09": ["05:01", "06:31", "13:30", "17:42", "19:54", "21:24"],
                "11.09": ["05:03", "06:33", "13:30", "17:39", "19:51", "21:21"],
                "12.09": ["05:05", "06:35", "13:30", "17:37", "19:49", "21:19"],
                "13.09": ["05:07", "06:37", "13:30", "17:35", "19:47", "21:17"],
                "14.09": ["05:09", "06:39", "13:30", "17:32", "19:44", "21:14"],
                "15.09": ["05:11", "06:41", "13:30", "17:29", "19:41", "21:11"],
                "16.09": ["05:13", "06:43", "13:30", "17:27", "19:38", "21:08"],
                "17.09": ["05:15", "06:45", "13:30", "17:24", "19:36", "21:06"],
                "18.09": ["05:17", "06:47", "13:30", "17:22", "19:34", "21:04"],
                "19.09": ["05:19", "06:49", "13:30", "17:20", "19:31", "21:01"],
                "20.09": ["05:21", "06:51", "13:30", "17:18", "19:28", "20:58"],
                "21.09": ["05:23", "06:53", "13:30", "17:16", "19:25", "20:55"],
                "22.09": ["05:25", "06:55", "13:30", "17:14", "19:23", "20:53"],
                "23.09": ["05:27", "06:57", "13:30", "17:12", "19:21", "20:51"],
                "24.09": ["05:30", "07:00", "13:30", "17:10", "19:18", "20:48"],
                "25.09": ["05:32", "07:02", "13:30", "17:08", "19:15", "20:45"],
                "26.09": ["05:34", "07:04", "13:30", "17:06", "19:12", "20:42"],
                "27.09": ["05:36", "07:06", "13:30", "17:04", "19:10", "20:40"],
                "28.09": ["05:38", "07:08", "13:30", "17:02", "19:07", "20:37"],
                "29.09": ["05:40", "07:10", "13:30", "17:00", "19:05", "20:35"],
                "30.09": ["05:42", "07:12", "13:30", "16:58", "19:02", "20:32"]
            }
            break;
        case "Oct":
            datas = {
                "01.10": ["05:43", "07:13", "13:30", "16:57", "19:00", "20:30"],
                "02.10": ["05:45", "07:15", "13:30", "16:56", "18:58", "20:28"],
                "03.10": ["05:47", "07:17", "13:30", "16:54", "18:56", "20:26"],
                "04.10": ["05:49", "07:19", "13:30", "16:52", "18:53", "20:23"],
                "05.10": ["05:51", "07:21", "13:30", "16:50", "18:50", "20:20"],
                "06.10": ["05:53", "07:23", "13:30", "16:48", "18:47", "20:17"],
                "07.10": ["05:54", "07:24", "13:30", "16:46", "18:44", "20:14"],
                "08.10": ["05:56", "07:26", "13:30", "16:44", "18:41", "20:11"],
                "09.10": ["05:58", "07:28", "13:30", "16:42", "18:38", "20:08"],
                "10.10": ["06:00", "07:30", "13:30", "16:41", "18:35", "20:05"],
                "11.10": ["06:02", "07:32", "13:30", "16:39", "18:33", "20:03"],
                "12.10": ["06:04", "07:34", "13:30", "16:37", "18:30", "20:00"],
                "13.10": ["06:06", "07:36", "13:30", "16:35", "18:27", "19:57"],
                "14.10": ["06:08", "07:38", "13:30", "16:34", "18:25", "19:55"],
                "15.10": ["06:10", "07:40", "13:30", "16:32", "18:23", "19:53"],
                "16.10": ["06:13", "07:43", "13:30", "16:30", "18:20", "19:50"],
                "17.10": ["06:14", "07:44", "13:30", "16:28", "18:18", "19:48"],
                "18.10": ["06:16", "07:46", "13:30", "16:27", "18:16", "19:46"],
                "19.10": ["06:18", "07:48", "13:30", "16:25", "18:13", "19:43"],
                "20.10": ["06:20", "07:50", "13:30", "16:23", "18:11", "19:41"],
                "21.10": ["06:22", "07:52", "13:30", "16:21", "18:09", "19:39"],
                "22.10": ["06:24", "07:54", "13:30", "16:19", "18:07", "19:37"],
                "23.10": ["06:26", "07:56", "13:30", "16:17", "18:05", "19:35"],
                "24.10": ["06:28", "07:58", "13:30", "16:15", "18:03", "19:33"],
                "25.10": ["06:30", "08:00", "13:30", "16:13", "18:01", "19:31"],
                "26.10": ["06:33", "08:03", "13:30", "16:11", "17:59", "19:29"],
                "27.10": ["06:35", "08:05", "13:30", "16:10", "17:57", "19:27"],
                "28.10": ["06:37", "08:07", "13:30", "16:08", "17:55", "19:25"],
                "29.10": ["06:39", "08:09", "13:30", "16:06", "17:53", "19:23"],
                "30.10": ["06:41", "08:11", "13:30", "16:04", "17:51", "19:21"],
                "31.10": ["06:43", "08:13", "13:30", "16:02", "17:48", "19:18"]
            };
            break;
        case "Nov":
            datas = {
                "01.11": ["06:46", "08:16", "13:30", "16:00", "17:46", "19:16"],
                "02.11": ["06:48", "08:18", "13:30", "15:58", "17:44", "19:14"],
                "03.11": ["06:50", "08:20", "13:30", "15:56", "17:42", "19:12"],
                "04.11": ["06:52", "08:22", "13:30", "15:54", "17:40", "19:10"],
                "05.11": ["06:54", "08:24", "13:30", "15:52", "17:38", "19:08"],
                "06.11": ["06:56", "08:26", "13:30", "15:50", "17:37", "19:07"],
                "07.11": ["06:58", "08:28", "13:30", "15:48", "17:35", "19:05"],
                "08.11": ["07:01", "08:31", "13:30", "15:46", "17:33", "19:03"],
                "09.11": ["07:03", "08:33", "13:30", "15:44", "17:31", "19:01"],
                "10.11": ["07:05", "08:35", "13:30", "15:43", "17:29", "18:59"],
                "11.11": ["07:07", "08:37", "13:30", "15:42", "17:27", "18:57"],
                "12.11": ["07:09", "08:39", "13:30", "15:41", "17:25", "18:55"],
                "13.11": ["07:11", "08:41", "13:30", "15:40", "17:24", "18:54"],
                "14.11": ["07:13", "08:43", "13:30", "15:39", "17:22", "18:52"],
                "15.11": ["07:15", "08:45", "13:30", "15:38", "17:20", "18:50"],
                "16.11": ["07:17", "08:47", "13:30", "15:37", "17:19", "18:49"],
                "17.11": ["07:19", "08:49", "13:30", "15:36", "17:17", "18:47"],
                "18.11": ["07:22", "08:52", "13:30", "15:35", "17:16", "18:46"],
                "19.11": ["07:23", "08:53", "13:30", "15:34", "17:14", "18:44"],
                "20.11": ["07:25", "08:55", "13:30", "15:33", "17:13", "18:43"],
                "21.11": ["07:27", "08:57", "13:30", "15:32", "17:11", "18:41"],
                "22.11": ["07:29", "08:59", "13:30", "15:31", "17:10", "18:40"],
                "23.11": ["07:31", "09:01", "13:30", "15:30", "17:09", "18:39"],
                "24.11": ["07:33", "09:03", "13:30", "15:29", "17:08", "18:38"],
                "25.11": ["07:35", "09:05", "13:30", "15:28", "17:06", "18:36"],
                "26.11": ["07:37", "09:07", "13:30", "15:27", "17:05", "18:35"],
                "27.11": ["07:39", "09:09", "13:30", "15:27", "17:04", "18:34"],
                "28.11": ["07:41", "09:10", "13:30", "15:26", "17:03", "18:33"],
                "29.11": ["07:42", "09:11", "13:30", "15:26", "17:02", "18:32"],
                "30.11": ["07:43", "09:12", "13:30", "15:25", "17:00", "18:30"]
            };
            break;
        case "Dec":
            datas = {
                "01.12": ["07:43", "09:13", "13:30", "15:24", "16:59", "18:29"],
                "02.12": ["07:45", "09:15", "13:30", "15:23", "16:58", "18:28"],
                "03.12": ["07:46", "09:16", "13:30", "15:23", "16:57", "18:27"],
                "04.12": ["07:47", "09:17", "13:30", "15:22", "16:56", "18:26"],
                "05.12": ["07:49", "09:19", "13:30", "15:21", "16:55", "18:25"],
                "06.12": ["07:50", "09:20", "13:30", "15:20", "16:55", "18:25"],
                "07.12": ["07:51", "09:21", "13:30", "15:19", "16:55", "18:25"],
                "08.12": ["07:52", "09:22", "13:30", "15:19", "16:54", "18:24"],
                "09.12": ["07:53", "09:23", "13:30", "15:19", "16:54", "18:24"],
                "10.12": ["07:54", "09:24", "13:30", "15:18", "16:53", "18:23"],
                "11.12": ["07:55", "09:25", "13:30", "15:18", "16:53", "18:23"],
                "12.12": ["07:56", "09:26", "13:30", "15:17", "16:53", "18:23"],
                "13.12": ["07:57", "09:27", "13:30", "15:17", "16:53", "18:23"],
                "14.12": ["07:58", "09:28", "13:30", "15:17", "16:53", "18:23"],
                "15.12": ["07:59", "09:29", "13:30", "15:17", "16:53", "18:23"],
                "16.12": ["08:00", "09:30", "13:30", "15:17", "16:53", "18:23"],
                "17.12": ["08:01", "09:31", "13:30", "15:17", "16:53", "18:23"],
                "18.12": ["08:02", "09:32", "13:30", "15:17", "16:53", "18:23"],
                "19.12": ["08:03", "09:33", "13:30", "15:17", "16:54", "18:24"],
                "20.12": ["08:04", "09:34", "13:30", "15:18", "16:54", "18:24"],
                "21.12": ["08:05", "09:35", "13:30", "15:19", "16:54", "18:24"],
                "22.12": ["08:05", "09:35", "13:30", "15:19", "16:55", "18:25"],
                "23.12": ["08:06", "09:36", "13:30", "15:20", "16:56", "18:26"],
                "24.12": ["08:06", "09:36", "13:30", "15:20", "16:57", "18:27"],
                "25.12": ["08:06", "09:36", "13:30", "15:20", "16:58", "18:28"],
                "26.12": ["08:07", "09:37", "13:30", "15:21", "16:58", "18:28"],
                "27.12": ["08:07", "09:37", "13:30", "15:21", "16:59", "18:29"],
                "28.12": ["08:07", "09:37", "13:30", "15:22", "17:00", "18:30"],
                "29.12": ["08:07", "09:37", "13:30", "15:22", "17:01", "18:31"],
                "30.12": ["08:07", "09:37", "13:30", "15:23", "17:01", "18:31"],
                "31.12": ["08:07", "09:37", "13:30", "15:23", "17:02", "18:32"]
            };
            break;
    }
}

function checkAndUpdateText() {
    let now = new Date();
    let hours = now.getHours();
    let minutes = now.getMinutes();
    let seconds = now.getSeconds();
}

//

var formattedDate = now.format('DD.MM');
var countdownEl = document.getElementById('countdown');
var prayerTimes = updateDatePrayer(formattedDate);

function updateDatePrayer(formattedDate) {
    var stimes = datas;
    var TimeSalat = stimes[formattedDate];
    var currTime = Object.keys(TimeSalat)[0];
    var salatFajr = document.getElementById('fajr');
    var fajr = TimeSalat[currTime];
    salatFajr.innerHTML = fajr;
    var Vosxod = document.getElementById('vosxod');
    var vosxodTime = TimeSalat[1];
    Vosxod.innerHTML = vosxodTime;
    var salatZuhr = document.getElementById('zuhr');
    var zuhr = TimeSalat[2];
    salatZuhr.innerHTML = zuhr;
    var salatAsr = document.getElementById('asr');
    var asr = TimeSalat[3];
    salatAsr.innerHTML = asr;
    var salatMagrib = document.getElementById('magrib');
    var magrib = TimeSalat[4];
    salatMagrib.innerHTML = magrib;
    var salatIsha = document.getElementById('isha');
    var isha = TimeSalat[5];
    salatIsha.innerHTML = isha;

// Массив времен намазов
    prayerTimes = [
        moment(fajr, 'HH:mm'), // Fajr
        moment(zuhr, 'HH:mm'), // Dhuhr
        moment(asr, 'HH:mm'), // Asr
        moment(magrib, 'HH:mm'), // Maghrib
        moment(isha, 'HH:mm')  // Isha
    ];
    return prayerTimes;
}


function getNextPrayerTime(prayerTimes) {
    var now = moment(); // Получаем текущее время
    var nextPrayerTime = null;
    var isAll = true;
    // Проходим по всем временам намазов
    for (var i = 0; i < prayerTimes.length; i++) {
        var prayerTime = prayerTimes[i];

        // Если время намаза больше текущего времени, то это следующий намаз
        if (prayerTime.isAfter(now)) {
            nextPrayerTime = prayerTime;
            isAll = false;
            break;
        }
    }
    if (isAll) {
        var tomorrow = moment().add(0, 'day').startOf('day');
        nextPrayerTime = moment(prayerTimes[0]).set({
            'year': tomorrow.year(),
            'month': tomorrow.month(),
            'date': tomorrow.date()

        })
    }

    return nextPrayerTime;
}

let updateCountdown = () => {
    var nextPrayerTime = getNextPrayerTime(prayerTimes);
    if (nextPrayerTime === null) {

        return;
    } else if (nextPrayerTime !== null) {
        var currentTime = new Date();
        var currentHours = currentTime.getHours();
        var currentMinutes = currentTime.getMinutes();
        var currentSeconds = currentTime.getSeconds();

        var nextPrayerDate;
        if (nextPrayerTime instanceof Date) {
            nextPrayerDate = nextPrayerTime;
        } else {
            nextPrayerDate = new Date(nextPrayerTime);
        }

        if (currentHours > nextPrayerDate.getHours() || (currentHours === nextPrayerDate.getHours() && currentMinutes > nextPrayerDate.getMinutes())) {
            // Если текущее время больше времени следующего намаза, устанавливаем следующее время намаза на завтра
            nextPrayerDate.setDate(nextPrayerDate.getDate() + 1); // Добавляем один день
            // prayerTimes = updateDatePrayer();
            // nextPrayerTime = getNextPrayerTime(prayerTimes);
        }

        var duration = nextPrayerDate - currentTime;
        duration = Math.max(0, duration); // Убеждаемся, что продолжительность не отрицательная

        var hours = Math.floor(duration / (1000 * 60 * 60));
        var minutes = Math.floor((duration % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((duration % (1000 * 60)) / 1000);

        countdownEl.textContent = `${hours} ч ${minutes} мин`;
    }
};

updateCountdown();

var intervalId = setInterval(updateCountdown, 1000);

var redirecting = false;

function redirectToNoInternetPage() {
    if (!redirecting) {
        redirecting = true;
        window.location.href = "no-internet.html";
    }
}


function handleOfflineEvent() {
    console.log("Интернет-соединение потеряно.");
    redirectToNoInternetPage();
}

function checkInternetConnection() {
    if (window.navigator.onLine) {
        return;
    } else {
        handleOfflineEvent();
    }
}

window.addEventListener("offline", checkInternetConnection);

checkInternetConnection();

